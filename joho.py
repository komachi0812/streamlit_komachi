import streamlit as st

st.title("🧭 今のあなたに合った行動診断")

st.write("以下の質問に答えてください")

# ===== 質問リスト =====
questions = [
    ("今の体の調子はどんな感じですか？", ["悪い", "普通", "良い"], [-1, 0, 1]),
    ("空腹感や食欲の状態はどうですか？", ["腹ペコ", "ちょうどいい", "おなかいっぱい"], [-1, 0, 1]),
    ("今の自分の気持ちはポジティブですか？ネガティブですか？", ["ネガティブ", "どちらでもない", "ポジティブ"], [-1, 0, 1]),
    ("楽しい・ワクワクすることを思い浮かべられますか？", ["できない", "しようと思えば", "できる"], [-1, 0, 1]),
    ("今の自分に「やる気スイッチ」があるとしたら、入っていますか？", ["入ってない", "どちらでもない", "入っている"], [-1, 0, 1]),
    ("外の空気を最近吸いましたか？", ["吸ってない", "一回は吸った", "結構吸った"], [-1, 0, 1]),
    ("頭の中がすっきりしていますか？", ["してない", "どちらともいえない", "してる"], [-1, 0, 1]),
    ("自分を大切にできていると感じますか？", ["できてない", "わからない", "できてる"], [-1, 0, 1]),
    ("他人の意見に左右されすぎていませんか？", ["されてる", "どちらともいえない", "されてない"], [1, 2, 3]),
    ("今日タバコ吸いましたか？", ["いつも吸うけど吸ってない", "まず吸わない", "吸った"], [-100, 0, 100]),
]

# ===== 質問を表示 =====
scores = []
for i, (q, options, values) in enumerate(questions, 1):
    st.subheader(f"質問{i}")
    st.write(q)
    choice = st.radio("選択してください：", options, key=f"q{i}")
    score = values[options.index(choice)]
    scores.append(score)

# ===== 結果ボタン =====
if st.button("結果を表示"):
    total_score = sum(scores)
    st.write("---")
    st.subheader("結果発表")
    st.write(f"あなたの合計スコア: **{total_score}**")

    if total_score <= 10:
        st.success("【提案】リラックスして休むのが良さそうです。")
    elif 11 <= total_score <= 20:
        st.info("【提案】軽い運動や趣味をしてみましょう。")
    else:
        st.warning("【提案】今のうちに集中してやりたいことを進めましょう！")
